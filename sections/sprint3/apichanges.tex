\subsection{Changes to the aSTEP API}\label{s3:apianal}
Because the \gls{astep} is in development, there has been changes in the API since the last sprint analysis. 
The \gls{astep} API has been updated with new functionality both regarding user management and location based services.
The LBS are split into indoor and outdoor locations calls, where the outdoor services are the only relevant calls for the \gls{rs} system.
%The list of all API functions as of the third sprint can been seen in the appendix\todo{add appendix reference}. %Table \ref{tab:s3api}.

An overview of the relevant API calls, as of sprint 3, for the \gls{rs} system can be seen in Table \ref{tab:relevantastepapi}, while the complete set of sprint 3 outdoor location services and user management services can be seen in appendix \ref{ch:appAlabel}.

\begin{table}[h]
	\centering
	\scriptsize
	\begin{tabular}{l l l}
		Path & Method & Description\\\midrule
		/locations/outdoor/\{username\}/routes & POST & Send a route to the \gls{astep} server\\
		/locations/outdoor/\{username\}/routes/match & GET & Match all new routes\\
		/users & POST & Create a new user\\
		/users/\{username\}/outUsers & POST & Request a new out user\\
		/users/\{username\}/outUsers/\{specifiedUsername\} & PUT & Accept out user\\
		/users/\{username\}/token & GET & Get the current valid token for a user
	\end{tabular}
	\caption{Relevant \gls{astep} API functions.}
	\label{tab:relevantastepapi}
\end{table}

For the location-based services, the \gls{astep} system now offers different get requests regarding a user's location history, nearby users, and users based on groups or friends.
The services offered by the user management is also expanded since the previous sprint. 
The implementation of the concept of groups entails multiple new API calls. 
The group concept is implemented as an access control that restricts users access to other users data.
The \gls{rs} system design will need to reflect these changes, and will be further analyzed in the following sections.  
The particulars of the different API calls will be elaborated in the following sections as they are used.