\section{Analysis}
This section contains the analysis of app functionality, Android app development, \gls{rs} algorithms and communication with the \gls{astep} system.

\subsection{App functionality}
% meta shit
The app user interface is as earlier stated a low priority task during this project.
However, the app needs basic functionality, according to the requirements.

% Only vehicle
To narrow the app focus and to ensure that users matched by the algorithm actually can transport each other, it is decided to only track users when they are traveling in a vehicle.
This excludes consideration of routes that are using bicycling or walking as means of transportation.

% User management % Ride matches
To be able to differentiate the stored routes, and to assign them to their respective users, there has to be a user management system, so that each user has its own unique id.
The user should also be informed with relevant information of ride matches, so that the user can make a decision of sharing a ride or not.

% User settings
The users of the app should also be able to adjust their settings.
The settings are preferences regarding different properties of ride sharing.
The user should be able to decide if they wants to get a ride, give a ride or both.
There should also also be properties related to the user them self, like a description and a picture, that other users can access to decide if they want to share a ride with the user.
These settings are of 'Should have' priority, and not considered further until the app is of acceptable functionality otherwise.

\subsection{Android Version Selection}
When developing Android apps, one of the first choices to consider is which API levels to target \cite{usesSDK}.
The ``\textit{API Level is an integer value that uniquely identifies the framework API revision offered by a version of the Android platform.}'', according to Android Developers \cite{usesSDK}, and also that ``\textit{The manifest file presents essential information about your app to the Android system, information the system must have before it can run any of the app's code.}''.

The manifest requires to specify the API level for three definitions: minimum, target and maximum.
The target and max versions requires few consideration to determine.
The ``targetSdkVersion'' reflects the version to which the app is developed and tested against, without enabling compatibility behaviors.
The ``maxSdkVersion'' reflects the highest API level that an app is designed to run.
Both of these are set to the highest API level available during the start of the development, which is API version 23.

The last API level that needs to be specified is the ``minSdkVersion''.
This entry specifies the lowest API level taht the app supports.
A consequence of this is that the app will not be compatible with any device with an API level lower than the specified ''minSdkVersion''.
Supporting older API versions requires development efforts, typically implementing functionality though the Android Support Library \cite{androidSL}.

For this project we choose to target a higher API level for to simplify the development process.
At the time of writing, the platform version distribution sum of API levels greater than or equal to 21 (Android Lollipop) is 35,3\%.
The distribution of the Android version levels are shown in \ref{fig:dashboard}.

\begin{figure}[h]
	\begin{center}
	\includegraphics[width=0.7\textwidth]{figures/android-chart-march.png}
	\end{center}
	\caption{Android version distribution, March 2016 \cite{androidDashboard}}
	\label{fig:dashboard}
\end{figure}

API version 21 is chosen as the ''minSdkVerison''. 
The main reason for this choice is to shorten development time as API level 21 added support for the material design style, among other improvements \cite{android5API}. 
Refraining from further backwards compatibility allows the focus of the project to be on the functionality of the app. 

\input{sections/sprint2/periodictask.tex}


% aSTEP system functionality analysis: communication with aSTEP
\input{sections/sprint2/astep.tex}

% Sprint 2 krav
\subsection{Requirements for the second sprint}
\input{sections/sprint2/sprint2krav.tex}